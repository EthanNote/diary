---
title: "18 05 09"
date: 2018-05-09T11:03:47+08:00
draft: false
---

起来得很晚，9点多醒了，10点多起来。

觉得把 pygame 用在数据可视化、产品GUI上是个不错的想法。PyQt 已经是不错的GUI库了，而 pygame 在用少量的代码灵活实现显示效果方面具有优势。

python 库 pgzero 是个好东西。基于 pygame , setup 一个具有基本功能的游戏十分简单，当然功能也有所限制。总体感觉跟flask风格很像，可以用几行代码实现demo,接下来就考虑如何 design 了。pgzero 的 zero 思想在于把所有注意力集中在游戏逻辑上，完全屏蔽游戏循环，消息队列等底层逻辑。

然而封装与扩展本身就是矛盾 的，game zero 意味着必须要实现扩展，比如我想要实现一个 thSTG zero, 即只需要实现弹幕关卡设计而无需关心底层问题，那么 pgzero 的封装就必须解开，加入弹幕射击所必须的模块后再封装。凌晨3点实现了demo。

好在 pgzero 的源代码不难理解，import pgzero 然后仿照 class PGZeroGame 实现自己的游戏底层逻辑封装。因为它建立在 pygame 之上，且模块之间有较好的弱耦合性，所以可以混合使用 pgzero 和自己实现的基于 pygame 的类库。我比较看好它提供的 Actor 类，用来实现弹幕 STG 中各种 2D 元素基本足够。唯一的问题可能在于精灵资源管理，例如需要处理一下大量子弹实例所带来的创建与销毁问题。

明天出差，真TM想宅着哪都不去，回来的票还是我自己买的。

电脑用着用着断电了，有可能是CPU硅脂不行了，那会儿风扇声音挺大的。用了5年多，挺想换MAC的。

晚上一台旧雷达送到了，立即进行连接测试。他们提供的雷达调试工具可以正常获取雷达数据，数据传输使用 UART 串口，为了能把它接入现有系统，我们必须实现自己的
串口数据接收，但是无论如何都得不到文档中给出的数据格式。坏的猜想是，软硬件版本与文档版本不一致。好的猜想是UART接收参数没有设置正确。

接下来用王老师提供的旧版设备进行了部署测试并进行录像。测试在门口的开阔场地中进行，最后我们导演了一个办公场景，我安排行进路线和行走顺序，
以及操作定位软件，并进行录屏。
